# Redis connection URL
REDIS_URL=redis://localhost:6379

# HTTP server port
PORT=8080

# Authentication token (optional - leave empty to disable auth)
# This will be used for both Bearer and Basic auth
UPSTASH_TOKEN=your-secret-token-here

# Enable verbose logging
VERBOSE=false

# Maximum request body size in bytes (default: 1MB)
MAX_BODY_SIZE=1048576

# Redis connection timeout in milliseconds
CONNECTION_TIMEOUT=5000

# Redis command timeout in milliseconds
COMMAND_TIMEOUT=30000

# =====================
# SECURITY CONFIGURATION
# =====================

# Command filter mode:
# - "blocklist" (default): Block dangerous commands (FLUSHALL, CONFIG, EVAL, etc.)
# - "allowlist": Only allow explicitly safe commands (most restrictive)
# - "none": Allow all commands (DANGEROUS - not recommended!)
COMMAND_FILTER_MODE=blocklist

# Additional commands to block (comma-separated, only used in blocklist mode)
# BLOCKED_COMMANDS=KEYS,DEBUG,SLOWLOG

# Additional commands to allow (comma-separated, only used in allowlist mode)
# ALLOWED_COMMANDS=CUSTOM_CMD

# =====================
# RATE LIMITING (Optional - not part of Upstash API)
# =====================
# For Upstash-compatible rate limiting, use @upstash/ratelimit instead
# https://github.com/upstash/ratelimit-js

# Enable server-side rate limiting (default: false)
# RATE_LIMIT_ENABLED=true

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX=100

# Time window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# =====================
# CONNECTION POOLING
# =====================

# Enable connection pooling for high-throughput scenarios (default: false)
# REDIS_POOL_ENABLED=true

# Minimum pool connections (default: 2)
# REDIS_POOL_MIN=2

# Maximum pool connections (default: 10)
# REDIS_POOL_MAX=10

# =====================
# REDIS CLUSTER
# =====================

# Enable Redis Cluster mode (default: false)
# REDIS_CLUSTER_ENABLED=true

# Comma-separated list of cluster node URLs
# REDIS_CLUSTER_NODES=redis://node1:6379,redis://node2:6379,redis://node3:6379

# Scale reads to replicas: "master" | "slave" | "all" (default: master)
# REDIS_CLUSTER_SCALE_READS=master

